<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Mephisto RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Mephisto Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Mephisto" href="/opensearch.xml"><title data-react-helmet="true">Running your first task | Mephisto</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://mephisto.ai//docs/guides/tutorials/first_task/"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Running your first task | Mephisto"><meta data-react-helmet="true" name="description" content="So you want to launch your first task. Thankfully Mephisto makes this fairly easy! We&#x27;ll launch an HTML-based task as a way to get you started. This guide assumes you&#x27;ve worked through the quickstart, so begin there if you haven&#x27;t."><meta data-react-helmet="true" property="og:description" content="So you want to launch your first task. Thankfully Mephisto makes this fairly easy! We&#x27;ll launch an HTML-based task as a way to get you started. This guide assumes you&#x27;ve worked through the quickstart, so begin there if you haven&#x27;t."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://mephisto.ai//docs/guides/tutorials/first_task/"><link data-react-helmet="true" rel="alternate" href="https://mephisto.ai//docs/guides/tutorials/first_task/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://mephisto.ai//docs/guides/tutorials/first_task/" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://J6ARWT70HK-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.1a0a97f9.css">
<link rel="preload" href="/assets/js/runtime~main.79702a0d.js" as="script">
<link rel="preload" href="/assets/js/main.8181231f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1LZf">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Mephisto" class="themedImage_0hP7 themedImage--light_Xxql"><img src="/img/logo_w.svg" alt="Mephisto" class="themedImage_0hP7 themedImage--dark_rBCr"></div></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/guides/quickstart/">Guides</a><a class="navbar__item navbar__link" href="/docs/explanations/architecture_overview/">Explanations</a><a class="navbar__item navbar__link" href="/docs/reference/overview/">API Reference</a><a class="navbar__item navbar__link" href="/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebookresearch/Mephisto" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_bZF4"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_rV0p toggle_guBE toggleDisabled_4DoY"><div class="toggleTrack_89EV" role="button" tabindex="-1"><div class="toggleTrackCheck_9vEw"><span class="toggleIcon_cArP">ðŸŒœ</span></div><div class="toggleTrackX_FFLU"><span class="toggleIcon_cArP">ðŸŒž</span></div><div class="toggleTrackThumb_gMK-"></div></div><input type="checkbox" class="toggleScreenReader_IHLe" aria-label="Switch between dark and light mode"></div><div class="searchBox_nsG2"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_-38h"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_3vOb" type="button"></button><aside class="docSidebarContainer_Eefv"><div class="sidebar_eBiS"><nav class="menu thin-scrollbar menu_3xqN"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/guides/quickstart/">10-minute Quickstart</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Tutorials + Getting Started</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/guides/tutorials/first_task/">Running your first task</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/tutorials/custom_react/">Working on a custom task</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/tutorials/worker_controls/">Introducing worker controls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/tutorials/workflows/">Developing a workflow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/tutorials/review-cli/">Using the Mephisto Review CLI</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">In-depth use</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">How to Contribute</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Upgrading to Version 1.0</a></li></ul></nav></div></aside><main class="docMainContainer_g-Ma"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_xOpu"><div class="docItemContainer_ODLV"><article><div class="tocCollapsible_cxzS theme-doc-toc-mobile tocMobile_oCA+"><button type="button" class="clean-btn tocCollapsibleButton_aE5n">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Running your first task</h1></header><p>So you want to launch your first task. Thankfully Mephisto makes this fairly easy! We&#x27;ll launch an HTML-based task as a way to get you started. This guide assumes you&#x27;ve worked through <a href="/docs/guides/quickstart/">the quickstart</a>, so begin there if you haven&#x27;t.</p><h2 class="anchor anchorWithStickyNavbar_EcSr" id="1-launching-with-default-arguments">1. Launching with default arguments<a aria-hidden="true" class="hash-link" href="#1-launching-with-default-arguments" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_EcSr" id="11-run-the-task">1.1 Run the task<a aria-hidden="true" class="hash-link" href="#11-run-the-task" title="Direct link to heading">â€‹</a></h3><p>To get started, you can launch a task by executing a run script. For instance, let&#x27;s try the simple static HTML task:</p><div class="codeBlockContainer_Tetg"><div class="codeBlockContent_Dw+C bash"><pre tabindex="0" class="prism-code language-bash codeBlock_3LGN thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_cBMx"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name">cd</span><span class="token plain"> examples/simple_static_task</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ python static_test_script.py</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_i2NU clean-btn">Copy</button></div></div><p>This will launch a local HTTP server with the task hosted, based on the default configuration options:</p><div class="codeBlockContainer_Tetg"><div class="codeBlockContent_Dw+C yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_3LGN thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_cBMx"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># hydra_configs/conf/example.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">defaults</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">/mephisto/blueprint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> static_task</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">/mephisto/architect</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">/mephisto/provider</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mock</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_i2NU clean-btn">Copy</button></div></div><p>We&#x27;ll dig into <em>how</em> this works <a href="#33-default-abstraction-usage">later</a>. </p><h3 class="anchor anchorWithStickyNavbar_EcSr" id="12-access-the-task">1.2 Access the task<a aria-hidden="true" class="hash-link" href="#12-access-the-task" title="Direct link to heading">â€‹</a></h3><p>By default, the task should be hosted at <code>localhost:3000</code>. This default is set by the <code>LocalArchitect</code>, which is used based on the <code>- /mephisto/architect: local</code> line above. Navigating to this address should show you the preview view for the task.</p><p>Actually being able to access this task is done by providing <code>worker_id</code> and <code>assignment_id</code> URL params, like <code>localhost:3000/?worker_id=x&amp;assignment_id=1</code> The <code>MockProvider</code> interprets these to be a test worker, which you can use to try out tasks. </p><p>Try navigating here and completing a task by selecting a value (no need to use the file upload). After hitting submit you&#x27;ll note that the window alerts you to the data that was sent to the Mephisto backend.</p><p>To work on another task, you&#x27;ll want to change the <code>assignment_id</code> in your url. This will let <code>Worker</code> &quot;x&quot; work on another task. Complete and submit this too.</p><p>If you try to work on another task, you&#x27;ll note that the system states you&#x27;ve worked on the maximum number of tasks. On this task, this is because Mephisto has launched the same two tasks twice to attempt to get different workers to complete them, and as &quot;x&quot; you&#x27;ve already completed both tasks. More on this <a href="#unit-creation-explained">later.</a></p><p>If you change to another <code>worker_id</code>, however, you can complete two more tasks. Do this and the Mephisto process should shut down cleanly. </p><h3 class="anchor anchorWithStickyNavbar_EcSr" id="13-reviewing-tasks">1.3 Reviewing tasks<a aria-hidden="true" class="hash-link" href="#13-reviewing-tasks" title="Direct link to heading">â€‹</a></h3><p>By this stage, we&#x27;ve collected data and can now review it.</p><p>Generally, to view/export the data, you could write a Python script using the Mephisto <a href="https://github.com/facebookresearch/Mephisto/blob/main/mephisto/tools/data_browser.py" target="_blank" rel="noopener noreferrer"><code>DataBrowser</code> class</a> to access the submitted data.</p><p>For your convenience, for the <code>html-static-task-example</code> task we&#x27;ve already provided such a script for you in the task folder, called <a href="https://github.com/facebookresearch/Mephisto/blob/main/examples/simple_static_task/examine_results.py" target="_blank" rel="noopener noreferrer"><code>examine_results.py</code></a>. (This file uses the Mephisto <code>DataBrowser</code> class through the helpers in <code>mephisto.tools.examine_utils</code>.)</p><div class="codeBlockContainer_Tetg"><div class="codeBlockContent_Dw+C bash"><pre tabindex="0" class="prism-code language-bash codeBlock_3LGN thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_cBMx"><span class="token-line" style="color:#393A34"><span class="token plain">$ python examine_results.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Do you want to </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">eview, or </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">xamine data? Default examine. Can put e </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">end</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> or e </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">start</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">end</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> to choose how many to view</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> r</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Input task name: </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_i2NU clean-btn">Copy</button></div></div><p>Here we can enter the default task name for this task, <code>html-static-task-example</code> to see the results. You can also leave the two qualifications blank, as we aren&#x27;t dealing with these yet.</p><div class="codeBlockContainer_Tetg"><div class="codeBlockContent_Dw+C"><pre tabindex="0" class="prism-code language-undefined codeBlock_3LGN thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_cBMx"><span class="token-line" style="color:#393A34"><span class="token plain">Input task name: html-static-task-example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">If you&#x27;d like to soft-block workers, you&#x27;ll need a block qualification. Leave blank otherwise.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Enter block qualification: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">If you&#x27;d like to qualify high-quality workers, you&#x27;ll need an approve qualification. Leave blank otherwise.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Enter approve qualification: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Starting review with following params:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Task name: html-static-task-example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Blocking qualification: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Approve qualification: None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Press enter to continue... </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_i2NU clean-btn">Copy</button></div></div><p>After pressing enter, you&#x27;ll be able to take action on some of the incoming tasks. You can <code>(a)ccept, (r)eject, (p)ass</code> using <code>a</code>, <code>r</code>, or <code>p</code>, using the caps version to apply to all the <code>Unit</code>s for a specific worker. Passing is used for work you think was attempted legitimately, but may have not been done </p><div class="codeBlockContainer_Tetg"><div class="codeBlockContent_Dw+C"><pre tabindex="0" class="prism-code language-undefined codeBlock_3LGN thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_cBMx"><span class="token-line" style="color:#393A34"><span class="token plain">Reviewing for worker x, (1/2), Previous (First time worker!) (total remaining: 4)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Worker: x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Unit: 4455</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Duration: 288</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Status: completed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Character: Loaded Character 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Description: I&#x27;m a character loaded from Mephisto!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Rating: passable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Files: []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   File directory ...</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_i2NU clean-btn">Copy</button></div></div><p>Review all four tasks (two from each of your test workers), and the script will close. Congrats on finishing your first complete batch!</p><h2 class="anchor anchorWithStickyNavbar_EcSr" id="2-changing-some-defaults">2. Changing some defaults!<a aria-hidden="true" class="hash-link" href="#2-changing-some-defaults" title="Direct link to heading">â€‹</a></h2><p>Mephisto uses <a href="https://hydra.cc/" target="_blank" rel="noopener noreferrer">Hydra</a> for our task configuration. As such you can use any of the Hydra methods for configuration. Of course, to configure you have to know your options.</p><h3 class="anchor anchorWithStickyNavbar_EcSr" id="21-discovering-options-with-mephisto-wut">2.1 Discovering options with <code>mephisto wut</code><a aria-hidden="true" class="hash-link" href="#21-discovering-options-with-mephisto-wut" title="Direct link to heading">â€‹</a></h3><p>Mephisto configuration options can be inherited from a number of different locations, so it can be difficult to track down all available arguments on your own. We provide the <code>mephisto wut</code> cli tool to make this process simpler. For instance, knowing that we&#x27;re launching a <code>static_task</code> with the <code>local</code> architect (as we saw <a href="#11-run-the-task">here</a>), we can examine these for configuration options.</p><p><strong>For the architect:</strong></p><div class="codeBlockContainer_Tetg"><div class="codeBlockContent_Dw+C bash"><pre tabindex="0" class="prism-code language-bash codeBlock_3LGN thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_cBMx"><span class="token-line" style="color:#393A34"><span class="token plain">$ mephisto wut </span><span class="token assign-left variable" style="color:#36acaa">architect</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                     Architect Arguments                                     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ dest               â”‚ </span><span class="token builtin class-name">type</span><span class="token plain"> â”‚ default   â”‚ </span><span class="token builtin class-name">help</span><span class="token plain">                         â”‚ choices â”‚ required â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ server_type        â”‚ str  â”‚ </span><span class="token function" style="color:#d73a49">node</span><span class="token plain">      â”‚ None                         â”‚ None    â”‚ False    â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ server_source_path â”‚ str  â”‚ ???       â”‚ Optional path to a prepared  â”‚ None    â”‚ False    â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                    â”‚      â”‚           â”‚ server directory containing  â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                    â”‚      â”‚           â”‚ everything needed to run a   â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                    â”‚      â”‚           â”‚ server of the given type.    â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                    â”‚      â”‚           â”‚ Overrides server type.       â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ </span><span class="token function" style="color:#d73a49">hostname</span><span class="token plain">           â”‚ str  â”‚ localhost â”‚ Addressible location of the  â”‚ None    â”‚ False    â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                    â”‚      â”‚           â”‚ server                       â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ port               â”‚ str  â”‚ </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain">      â”‚ Port to launch the server on â”‚ None    â”‚ False    â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_i2NU clean-btn">Copy</button></div></div><p><strong>For the blueprint:</strong></p><div class="codeBlockContainer_Tetg"><div class="codeBlockContent_Dw+C bash"><pre tabindex="0" class="prism-code language-bash codeBlock_3LGN thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_cBMx"><span class="token-line" style="color:#393A34"><span class="token plain">$ mephisto wut </span><span class="token assign-left variable" style="color:#36acaa">blueprint</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">static_task</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Tasks launched from static blueprints need a </span><span class="token builtin class-name">source</span><span class="token plain"> html </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"> to display to workers, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">as well as a csv containing values that will be inserted into templates </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> the html. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                     Blueprint Arguments                                     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ dest              â”‚ </span><span class="token builtin class-name">type</span><span class="token plain">    â”‚ default            â”‚ </span><span class="token builtin class-name">help</span><span class="token plain">              â”‚ choices â”‚ required â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ block_qualificatâ€¦ â”‚ str     â”‚ ???                â”‚ Specify the name  â”‚ None    â”‚ False    â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ of a              â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ qualification     â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ used to soft      â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ block workers.    â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ tips_location     â”‚ str     â”‚ /Users/etesam1/Doâ€¦ â”‚ Path to csv </span><span class="token function" style="color:#d73a49">file</span><span class="token plain">  â”‚ None    â”‚ False    â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ containing tips   â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ onboarding_qualiâ€¦ â”‚ str     â”‚ ???                â”‚ Specify the name  â”‚ None    â”‚ False    â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ of a              â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ qualification     â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ used to block     â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ workers </span><span class="token function" style="color:#d73a49">who</span><span class="token plain"> fail  â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ onboarding, Empty â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ will skip         â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ onboarding.       â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ units_per_assignâ€¦ â”‚ int     â”‚ </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">                  â”‚ How many workers  â”‚ None    â”‚ False    â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ you want to </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain">    â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ each assignment   â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ extra_source_dir  â”‚ str     â”‚ ???                â”‚ Optional path to  â”‚ None    â”‚ False    â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ sources that the  â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ HTML may refer to â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">such as          â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ images/video/cssâ€¦ â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ data_json         â”‚ str     â”‚ ???                â”‚ Path to JSON </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"> â”‚ None    â”‚ False    â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ containing task   â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ data              â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ data_jsonl        â”‚ str     â”‚ ???                â”‚ Path to JSON-L    â”‚ None    â”‚ False    â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"> containing   â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ task data         â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ data_csv          â”‚ str     â”‚ ???                â”‚ Path to csv </span><span class="token function" style="color:#d73a49">file</span><span class="token plain">  â”‚ None    â”‚ False    â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ containing task   â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ data              â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ task_source       â”‚ str     â”‚ ???                â”‚ Path to </span><span class="token builtin class-name">source</span><span class="token plain">    â”‚ None    â”‚ True     â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ HTML </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> the â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ task being run    â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ preview_source    â”‚ unknown â”‚ ???                â”‚ Optional path to  â”‚ None    â”‚ False    â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ </span><span class="token builtin class-name">source</span><span class="token plain"> HTML </span><span class="token function" style="color:#d73a49">file</span><span class="token plain">  â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ to preview the    â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ task              â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚ onboarding_source â”‚ unknown â”‚ ???                â”‚ Optional path to  â”‚ None    â”‚ False    â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ </span><span class="token builtin class-name">source</span><span class="token plain"> HTML </span><span class="token function" style="color:#d73a49">file</span><span class="token plain">  â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ to onboarding the â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚                   â”‚         â”‚                    â”‚ task              â”‚         â”‚          â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Additional SharedTaskState args from SharedStaticTaskState</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ... snipped ...</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_i2NU clean-btn">Copy</button></div></div><p>For our given example task, the values we are using for these options are available in the <code>hydra_configs/conf/example.yaml</code> file. Let&#x27;s try overriding some defaults.</p><h3 class="anchor anchorWithStickyNavbar_EcSr" id="22-configuring-options-via-the-command-line">2.2 Configuring options via the command line<a aria-hidden="true" class="hash-link" href="#22-configuring-options-via-the-command-line" title="Direct link to heading">â€‹</a></h3><p>As a simple starting point, we can try launching the server on a different port. Right now the default is <code>3000</code>, but with the following command we can set that ourselves:</p><div class="codeBlockContainer_Tetg"><div class="codeBlockContent_Dw+C"><pre tabindex="0" class="prism-code language-undefined codeBlock_3LGN thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_cBMx"><span class="token-line" style="color:#393A34"><span class="token plain">python static_test_script.py mephisto.architect.port=1234</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_i2NU clean-btn">Copy</button></div></div><p>This should launch the same task, but now available on the port <code>1234</code> rather than <code>3000</code>.</p><p>Once we see the task is running, we can shut down with <code>Ctrl-C</code>.</p><blockquote><p><strong>Tip:</strong> Shutting down Mephisto via a single <code>Ctrl-C</code> interrupt <em>attempts</em> to cleanup everything, but sometimes takes time for cleanup steps. You can skip some steps with additional <code>Ctrl-C</code> presses, but then you&#x27;ll need to clean up resources yourself.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_EcSr" id="23-using-yaml-configurations">2.3 Using yaml configurations<a aria-hidden="true" class="hash-link" href="#23-using-yaml-configurations" title="Direct link to heading">â€‹</a></h3><p>While it makes sense to update some parameters on the command line while iterating, generally it&#x27;s easier to extend the <code>conf</code> files directly, then apply all of the options by overriding <code>conf</code>. Try copying the <code>hydra_configs/conf/example.yaml</code> file into <code>hydra_configs/conf/my_config.yaml</code>.</p><div class="codeBlockContainer_Tetg"><div class="codeBlockContent_Dw+C yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_3LGN thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_cBMx"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#hydra_configs/conf/my_config.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#@package _global_</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">defaults</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">/mephisto/blueprint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> static_task</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">/mephisto/architect</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">/mephisto/provider</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mock</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">mephisto</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">blueprint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">data_csv</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">task_dir</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/data_tutorial.csv    </span><span class="token comment" style="color:#999988;font-style:italic"># Lets use the tutorial data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">task_source</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">task_dir</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/server_files/demo_task.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">preview_source</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">task_dir</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/server_files/demo_preview.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">extra_source_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">task_dir</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/server_files/extra_refs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">units_per_assignment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># And only one unit per assignment, as we&#x27;re testing as one worker</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">task</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">task_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> first</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">task</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">tutorial</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">run  </span><span class="token comment" style="color:#999988;font-style:italic"># Let&#x27;s change the task name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">task_title</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Test static task&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">task_description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;This is a simple test of static tasks.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">task_reward</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">task_tags</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;static,task,testing&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_i2NU clean-btn">Copy</button></div></div><p>Save this configuration file, and you&#x27;re ready to launch again:</p><div class="codeBlockContainer_Tetg"><div class="codeBlockContent_Dw+C bash"><pre tabindex="0" class="prism-code language-bash codeBlock_3LGN thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_cBMx"><span class="token-line" style="color:#393A34"><span class="token plain">$ python static_test_script </span><span class="token assign-left variable" style="color:#36acaa">conf</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">my_config</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_i2NU clean-btn">Copy</button></div></div><p>You&#x27;ll note that Mephisto launches the task under your new task name:</p><div class="codeBlockContainer_Tetg"><div class="codeBlockContent_Dw+C"><pre tabindex="0" class="prism-code language-undefined codeBlock_3LGN thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_cBMx"><span class="token-line" style="color:#393A34"><span class="token plain">[...][...][INFO] - Creating a task run under task name: first-task-tutorial-run</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_i2NU clean-btn">Copy</button></div></div><blockquote><p><strong>A note on <code>task_name</code>s:</strong>
The <code>task_name</code> parameter is particularly important for setting up workflows. Many of Mephisto&#x27;s features are shared under a specific <code>task_name</code> namespace, including review flows and unit completion maximums per worker per namespace. Later <a href="/docs/guides/tutorials/workflows/">guides</a> go more in-depth on best practices.</p></blockquote><p>Navigating to a task (<code>localhost:3000/?worker_id=x&amp;assignment_id=1</code>) should now show you a task loaded from a different data file. Completing this task will lead Mephisto to shut down cleanly.</p><p>You can now review this task with the review script again, this time providing the task name <code>first-task-tutorial-run</code>.</p><h3 class="anchor anchorWithStickyNavbar_EcSr" id="24-optional-launch-live-on-mturk-sandbox">2.4 (optional) Launch live on MTurk sandbox<a aria-hidden="true" class="hash-link" href="#24-optional-launch-live-on-mturk-sandbox" title="Direct link to heading">â€‹</a></h3><blockquote><p>Note: The Mephisto process must remain running when in-use, so you must leave your machine running to be able to access a task.</p></blockquote><p>You don&#x27;t need to do this step <em>right now</em>, however it&#x27;s important for understanding how to take one of these tasks live. Assuming you&#x27;ve completed the optional steps in <a href="/docs/guides/quickstart/#optional-set-up-mturk">the quickstart</a>, you can make the following changes to your config file, replacing <code>my_mturk_user_sandbox</code> with the id you used in it&#x27;s place when registering initially:</p><div class="codeBlockContainer_Tetg"><div class="codeBlockContent_Dw+C yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_3LGN thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_cBMx"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#hydra_configs/conf/my_config.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#@package _global_</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">defaults</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">/mephisto/blueprint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> static_task</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">/mephisto/architect</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> heroku   </span><span class="token comment" style="color:#999988;font-style:italic"># To launch live, we&#x27;ll need an external server</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">/mephisto/provider</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mturk_sandbox  </span><span class="token comment" style="color:#999988;font-style:italic"># And an external provider</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">mephisto</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">provider</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">requester_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my_mturk_user_sandbox </span><span class="token comment" style="color:#999988;font-style:italic"># Or whatever ID you provided with `mephisto register mturk_sandbox`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">blueprint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">data_csv</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">task_dir</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/data_tutorial.csv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">task_source</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">task_dir</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/server_files/demo_task.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">preview_source</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">task_dir</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/server_files/demo_preview.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">extra_source_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">task_dir</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/server_files/extra_refs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">units_per_assignment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">task</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">task_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> first</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">task</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">tutorial</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">task_title</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Test static task&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">task_description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;This is a simple test of static tasks.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">task_reward</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">task_tags</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;static,task,testing&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_i2NU clean-btn">Copy</button></div></div><p>Save this configuration file, and you&#x27;re ready to see your task live:</p><div class="codeBlockContainer_Tetg"><div class="codeBlockContent_Dw+C bash"><pre tabindex="0" class="prism-code language-bash codeBlock_3LGN thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_cBMx"><span class="token-line" style="color:#393A34"><span class="token plain">$ python static_test_script </span><span class="token assign-left variable" style="color:#36acaa">conf</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">my_config</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_i2NU clean-btn">Copy</button></div></div><p>Mephisto should print out a link to view your task on the mturk sandbox, like <code>https://workersandbox.mturk.com/mturk/preview?groupId=XXXXXXXXXXXXXXXX</code>. Navigate here and you&#x27;re working on the same task, available on MTurk (on the sandbox at least)!</p><p>Complete this task, and you can review it in the same way as before.</p><blockquote><p><strong>Tip</strong>: You can reuse common configurations by <a href="/docs/guides/how_to_use/efficiency_organization/reusing_configs/">associating them with a profile</a>. Usually these contain <code>Provider</code> and <code>Architect</code> arguments, as these usually aren&#x27;t related to a specific task.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_EcSr" id="3-task-breakdown">3. Task breakdown<a aria-hidden="true" class="hash-link" href="#3-task-breakdown" title="Direct link to heading">â€‹</a></h2><p>Now that you&#x27;ve gotten a task running, this section gives a quick overview on some of the components in the configs and <code>static_test_script.py</code> that led to the observed behaviors. The goal is to ensure you can write your own run files by the end of the tutorial sections.</p><h3 class="anchor anchorWithStickyNavbar_EcSr" id="31-config-registration">3.1 Config registration<a aria-hidden="true" class="hash-link" href="#31-config-registration" title="Direct link to heading">â€‹</a></h3><p>Mephisto wires up to configuration using standard Hydra syntax, but with both <code>yaml</code> files (for ease of writing) <em>and</em> structured configs (for ease of documentation).
Here&#x27;s the config we&#x27;ve set up for this example:</p><div class="codeBlockContainer_Tetg"><div class="codeBlockContent_Dw+C python"><pre tabindex="0" class="prism-code language-python codeBlock_3LGN thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_cBMx"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># static_test_script.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> mephisto</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">abstractions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">blueprints</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">static_html_task</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">static_html_blueprint </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BLUEPRINT_TYPE_STATIC_HTML</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> mephisto</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tools</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">scripts </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> task_script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> omegaconf </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> DictConfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@task_script</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">default_config_file</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;example&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">operator</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Operator</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cfg</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DictConfig</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_i2NU clean-btn">Copy</button></div></div><p>This is all you really <em>need</em> to launch a Mephisto task! The <code>@task_script</code> decorator does the job of attaching your hydra yaml as default arguments for the main.</p><p>Of course, there&#x27;s quite a bit of &#x27;magic&#x27; happening underneath the hood thanks to the script utilities. This version is explicit to show where you may add customization, and re-ordered for understanding:</p><div class="codeBlockContainer_Tetg"><div class="codeBlockContent_Dw+C python"><pre tabindex="0" class="prism-code language-python codeBlock_3LGN thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_cBMx"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># modified static_test_script.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> mephisto</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">abstractions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">blueprints</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">static_html_task</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">static_html_blueprint </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BLUEPRINT_TYPE_STATIC_HTML</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> mephisto</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tools</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">scripts </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> task_script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> mephisto</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">operations</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hydra_config </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> build_default_task_config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@dataclass</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MyTaskConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">build_default_task_config</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;example&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    custom_args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Any </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@task_script</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">MyTaskConfig</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">operator</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Operator</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cfg</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DictConfig</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_i2NU clean-btn">Copy</button></div></div><p>In this snippet, we do a few things:</p><ol><li>We import the <code>BLUEPRINT_TYPE_STATIC_HTML</code> to force an import of the blueprint we intend to use with this run script (making the <code>register_mephisto_abstraction</code> call). This isn&#x27;t <em>required</em> for any of Mephisto&#x27;s default blueprints, but would be necessary for use with custom <code>Blueprint</code>s not in the <code>mephisto/abstractions/blueprints</code> folder.</li><li>We set up the default <a href="https://hydra.cc/docs/tutorials/basic/your_first_app/config_file/" target="_blank" rel="noopener noreferrer"><code>conf</code></a> file to be <code>example</code>, using <code>build_default_task_config</code>, which returns a <code>TaskConfig</code> that we can extend.</li><li>We extend the returned <code>TaskConfig</code> with <code>MyTaskConfig</code>, which allows us to specify custom arguments.</li><li>We decorate the main, noting that the correct config is <code>MyTaskConfig</code>. Note that the <code>default_config_file</code> version of this simply takes care of the above steps inline in the decorator.</li></ol><p>With all the above, we&#x27;re able to just make edits to <code>example.yaml</code> or make other configs in the <code>conf/</code> directory and route to them directly.</p><h3 class="anchor anchorWithStickyNavbar_EcSr" id="32-invoking-mephisto">3.2 Invoking Mephisto<a aria-hidden="true" class="hash-link" href="#32-invoking-mephisto" title="Direct link to heading">â€‹</a></h3><p>Mephisto itself is actually invoked just a little later:</p><div class="codeBlockContainer_Tetg"><div class="codeBlockContent_Dw+C python"><pre tabindex="0" class="prism-code language-python codeBlock_3LGN thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_cBMx"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">operator</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Operator</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cfg</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DictConfig</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    operator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">launch_task_run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cfg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mephisto</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    operator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">wait_for_runs_then_shutdown</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">skip_input</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> log_rate</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_i2NU clean-btn">Copy</button></div></div><p>Under the hood the <code>task_script</code> decorator extracts specific arguments out of your configuration (and surface warnings about incompatibilities) and initializes an <code>Operator</code> on the correct <code>MephistoDB</code> for the task. Using this we can launch a <code>TaskRun</code> the given config, then wait for it to run. To ensure we&#x27;re not frozen, the operator takes in a <code>log_rate</code> in seconds to print status messages while the run is underway.</p><h3 class="anchor anchorWithStickyNavbar_EcSr" id="33-default-abstraction-usage">3.3 Default abstraction usage<a aria-hidden="true" class="hash-link" href="#33-default-abstraction-usage" title="Direct link to heading">â€‹</a></h3><p>Again we can look back at the <code>example.yaml</code> file to see this setup:</p><div class="codeBlockContainer_Tetg"><div class="codeBlockContent_Dw+C yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_3LGN thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_cBMx"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># hydra_configs/conf/example.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">defaults</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">/mephisto/blueprint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> static_task</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">/mephisto/architect</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">/mephisto/provider</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mock</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_i2NU clean-btn">Copy</button></div></div><p>These ensure that, when not provided other arguments, we launch this task locally using a <code>LocalArchitect</code> and <code>MockProvider</code>. With these defaults, this and other example tasks are run using a &quot;local&quot; architect, and a &quot;mock&quot; requester without arguments. The &quot;local&quot; architect is reponsible for running a server on your local machine to host the task, and the &quot;mock&quot; requester lets <em>you</em> simulate a worker without using an external crowd-provider platform such as mTurk to launch the task.</p><h3 class="anchor anchorWithStickyNavbar_EcSr" id="34-unit-creation-explained">3.4 <code>Unit</code> creation explained<a aria-hidden="true" class="hash-link" href="#34-unit-creation-explained" title="Direct link to heading">â€‹</a></h3><p>When stepping through this task the first time, you ended up working on four <code>Unit</code>s as two different <code>Worker</code>s. It&#x27;s useful to understand how this happens. Taking a look at the config and data:</p><div class="codeBlockContainer_Tetg"><div class="codeBlockContent_Dw+C yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_3LGN thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_cBMx"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># hydra_configs/conf/example.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#@package _global_</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">defaults</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">mephisto</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">blueprint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">data_csv</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">task_dir</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/data.csv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">units_per_assignment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">task</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">...</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_i2NU clean-btn">Copy</button></div></div><div class="codeBlockContainer_Tetg"><div class="codeBlockContent_Dw+C"><pre tabindex="0" class="prism-code language-undefined codeBlock_3LGN thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_cBMx"><span class="token-line" style="color:#393A34"><span class="token plain"># data.csv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">character_name,character_description</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Loaded Character 1,I&#x27;m a character loaded from Mephisto!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Loaded Character 2,I&#x27;m another character loaded from Mephisto!</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_i2NU clean-btn">Copy</button></div></div><p>From this, we know we&#x27;re loading from <code>data.csv</code>, and that this file only has two listed items. Mephisto creates an <code>Assignment</code> for each of these lines, representing a group of work for which a worker can only contribute to once. We also specify two <code>units_per_assignment</code>, meaning that Mephisto creates two <code>Unit</code>s per <code>Assignment</code>, meaning in this static case that different workers can complete the same job, usually to get inter-annotator agreement. (In some cases Mephisto can use an <code>Assignment</code> to connect multiple workers each with one <code>Unit</code> on a collaborative live task). As we had two assignments, it makes sense that each worker <code>x</code> and your second worker could only complete two tasks each.</p><p>On the second launch, we had a file with only one entry and set <code>units_per_assignment</code> to 1, which ensured that there was only a single <code>Unit</code> that needed to be completed before Mephisto shut down.</p><h3 class="anchor anchorWithStickyNavbar_EcSr" id="35-html-static-tasks-in-general">3.5 HTML static tasks in general<a aria-hidden="true" class="hash-link" href="#35-html-static-tasks-in-general" title="Direct link to heading">â€‹</a></h3><p>You can use HTML static tasks to render simple annotation with custom HTML code. They may act as a good starting point for working on the platform, however they aren&#x27;t the easiest or most powerful way to use Mephisto.  More details can be found on how to customize these tasks <a href="https://github.com/facebookresearch/Mephisto/tree/main/mephisto/abstractions/blueprints/static_html_task" target="_blank" rel="noopener noreferrer">here</a>, though the rest of the tutorials will focus on React-based tasks. You can build your first in the <a href="/docs/guides/tutorials/custom_react/">next tutorial</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebookresearch/Mephisto/tree/main/docs/web/docs/guides/tutorials/first_task.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_78kM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_Y7-4"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/guides/quickstart/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->10-minute Quickstart</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/guides/tutorials/custom_react/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Working on a custom task<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_gAAo thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-launching-with-default-arguments" class="table-of-contents__link toc-highlight">1. Launching with default arguments</a><ul><li><a href="#11-run-the-task" class="table-of-contents__link toc-highlight">1.1 Run the task</a></li><li><a href="#12-access-the-task" class="table-of-contents__link toc-highlight">1.2 Access the task</a></li><li><a href="#13-reviewing-tasks" class="table-of-contents__link toc-highlight">1.3 Reviewing tasks</a></li></ul></li><li><a href="#2-changing-some-defaults" class="table-of-contents__link toc-highlight">2. Changing some defaults!</a><ul><li><a href="#21-discovering-options-with-mephisto-wut" class="table-of-contents__link toc-highlight">2.1 Discovering options with <code>mephisto wut</code></a></li><li><a href="#22-configuring-options-via-the-command-line" class="table-of-contents__link toc-highlight">2.2 Configuring options via the command line</a></li><li><a href="#23-using-yaml-configurations" class="table-of-contents__link toc-highlight">2.3 Using yaml configurations</a></li><li><a href="#24-optional-launch-live-on-mturk-sandbox" class="table-of-contents__link toc-highlight">2.4 (optional) Launch live on MTurk sandbox</a></li></ul></li><li><a href="#3-task-breakdown" class="table-of-contents__link toc-highlight">3. Task breakdown</a><ul><li><a href="#31-config-registration" class="table-of-contents__link toc-highlight">3.1 Config registration</a></li><li><a href="#32-invoking-mephisto" class="table-of-contents__link toc-highlight">3.2 Invoking Mephisto</a></li><li><a href="#33-default-abstraction-usage" class="table-of-contents__link toc-highlight">3.3 Default abstraction usage</a></li><li><a href="#34-unit-creation-explained" class="table-of-contents__link toc-highlight">3.4 <code>Unit</code> creation explained</a></li><li><a href="#35-html-static-tasks-in-general" class="table-of-contents__link toc-highlight">3.5 HTML static tasks in general</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/guides/quickstart/">Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/explanations/architecture_overview/">Explanations</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/overview/">API Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/mephisto" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_bZF4"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebookresearch/Mephisto" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_bZF4"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.79702a0d.js"></script>
<script src="/assets/js/main.8181231f.js"></script>
</body>
</html>